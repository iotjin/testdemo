(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b047431"],{4789:function(e,t,a){},"4e82":function(e,t,a){"use strict";var r=a("23e7"),n=a("1c0b"),l=a("7b0b"),o=a("d039"),s=a("a640"),i=[],c=i.sort,u=o((function(){i.sort(void 0)})),p=o((function(){i.sort(null)})),d=s("sort"),m=u||!p||!d;r({target:"Array",proto:!0,forced:m},{sort:function(e){return void 0===e?c.call(l(this)):c.call(l(this),n(e))}})},6603:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"spp-user-body spp-theme-body spp-theme-pad"},[a("el-form",{staticClass:"spp-form-search spp-theme-top",attrs:{inline:!0,size:"small",model:e.tableSearchParams}},[a("el-form-item",[a("span",{staticClass:"spp-form-label",staticStyle:{width:"150px"}},[a("i",{staticClass:"icon"}),a("i",{staticClass:"label"},[e._v("名称:")])]),a("el-input",{attrs:{maxlength:"20",placeholder:"请输入",clearable:""},model:{value:e.tableSearchParams.name,callback:function(t){e.$set(e.tableSearchParams,"name",t)},expression:"tableSearchParams.name"}})],1),a("el-form-item",[a("span",{staticClass:"spp-form-label",staticStyle:{width:"150px"}},[a("i",{staticClass:"icon"}),a("i",{staticClass:"label"},[e._v("部门:")])]),a("el-select",{attrs:{placeholder:"请选择","collapse-tags":"",clearable:""},model:{value:e.tableSearchParams.dept,callback:function(t){e.$set(e.tableSearchParams,"dept",t)},expression:"tableSearchParams.dept"}},e._l(e.deptOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("span",{staticClass:"spp-form-label",staticStyle:{width:"150px"}},[a("i",{staticClass:"icon"}),a("i",{staticClass:"label"},[e._v("时间:")])]),a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd HH:mm","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.tableSearchParams.time,callback:function(t){e.$set(e.tableSearchParams,"time",t)},expression:"tableSearchParams.time"}})],1),a("el-form-item",[a("el-button",{staticClass:"spp-form-btn",attrs:{size:"small",type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")])],1)],1),a("div",{staticClass:"spp-table-group spp-theme-top spp-theme-pad"},[a("div",{staticClass:"spp-table-btns"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onAdd}},[a("i",{staticClass:"el-icon-plus"}),e._v("新增 ")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.onDelete}},[a("i",{staticClass:"el-icon-delete"}),e._v("删除 ")])],1),a("el-form",{ref:"formRef",attrs:{model:e.tableForm,"label-width":"120px",inline:!0,rules:e.formRules,size:"small","label-position":"center"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"tableRef",staticClass:"my-table",attrs:{data:e.tableForm.tableData,stripe:!0,"header-cell-style":e.headerCellStyle,"cell-style":e.cellStyle,"row-class-name":e.rowClassName,border:""},on:{"selection-change":e.selectionLineChangeHandle}},[a("el-table-column",{attrs:{label:""}},[a("el-table-column",{attrs:{prop:"xh",type:"index",label:"序号",width:"80px"}}),a("el-table-column",{attrs:{type:"selection",width:"55px"}}),a("el-table-column",{attrs:{label:"名称","render-header":e.addRedStar,"min-width":"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"tableData."+t.$index+".name",rules:e.formRules.name}},[a("el-input",{attrs:{maxlength:"20",placeholder:"请输入",clearable:""},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})],1)]}}])}),a("el-table-column",{attrs:{label:"部门","render-header":e.addRedStar,"min-width":"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"tableData."+t.$index+".dept",rules:e.formRules.dept}},[a("el-select",{attrs:{placeholder:"请选择","collapse-tags":"",clearable:""},model:{value:t.row.dept,callback:function(a){e.$set(t.row,"dept",a)},expression:"scope.row.dept"}},e._l(e.deptOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]}}])}),a("el-table-column",{attrs:{label:"操作人","render-header":e.addRedStar,"min-width":"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"tableData."+t.$index+".operator",rules:e.formRules.operator}},[a("el-input",{attrs:{maxlength:"10",placeholder:"请输入",clearable:""},model:{value:t.row.operator,callback:function(a){e.$set(t.row,"operator",a)},expression:"scope.row.operator"}})],1)]}}])}),a("el-table-column",{attrs:{label:"内容","render-header":e.addRedStar,"min-width":"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"tableData."+t.$index+".content",rules:e.formRules.content}},[a("el-input",{attrs:{maxlength:"100",placeholder:"请输入",type:"textarea",autosize:{minRows:2,maxRows:2},clearable:""},model:{value:t.row.content,callback:function(a){e.$set(t.row,"content",a)},expression:"scope.row.content"}})],1)]}}])}),a("el-table-column",{attrs:{label:"创建时间","render-header":e.addRedStar,width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"tableData."+t.$index+".createDate",rules:e.formRules.createDate}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.row.createDate,callback:function(a){e.$set(t.row,"createDate",a)},expression:"scope.row.createDate"}})],1)]}}])}),a("el-table-column",{attrs:{label:"操作时间","render-header":e.addRedStar,width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"tableData."+t.$index+".updateDate",rules:e.formRules.updateDate}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:t.row.updateDate,callback:function(a){e.$set(t.row,"updateDate",a)},expression:"scope.row.updateDate"}})],1)]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit-outline"},on:{click:function(a){return e.rowEdit(t.row)}}}),a("el-button",{attrs:{size:"mini",icon:"el-icon-delete",type:"danger"},on:{click:function(a){return e.rowDelete(t.row)}}})]}}])})],1)],1)],1),a("div",{staticClass:"spp-table-btns",staticStyle:{padding:"20px"},attrs:{align:"center"}},[a("el-button",{attrs:{loading:e.dialogSubmitBtnLoading,type:"primary",size:"small"},on:{click:function(t){return e.onClickSave()}}},[e._v("保存")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.onClickReset()}}},[e._v("重置")])],1)],1)],1)},n=[],l=(a("4e82"),a("a434"),a("99ab")),o=a.n(l),s={components:{},data:function(){var e=this,t=function(t,a,r){if(a){var n=t.field.substr(10,1),l=o.a.Jh_compareTimes(a,e.tableForm.tableData[n].updateDate);l&&r(new Error("创建时间不能大于操作时间!")),r()}else r(new Error("请选择创建时间"))},a=function(t,a,r){if(a){var n=t.field.substr(10,1),l=o.a.Jh_compareTimes(a,e.tableForm.tableData[n].createDate);l||r(new Error("操作时间不能小于创建时间!")),r()}else r(new Error("请选择操作时间"))};return{tableHeight:170,tableLoading:!1,tableSearchParams:{name:"",dept:"",time:"",page:1,limit:this.pageGroup.size},tableTotal:1e3,tableSizes:this.pageGroup.sizes,tableForm:{tableData:[]},formRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],dept:[{required:!0,message:"请选择部门",trigger:"change"}],operator:[{required:!0,message:"请输入操作人名称",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}],createDate:[{validator:t,trigger:"change"}],updateDate:[{validator:a,trigger:"change"}]},selectionList:[],deptOptions:[],dialogSubmitBtnLoading:!1}},mounted:function(){this.requestList(),this.requestDict()},methods:{search:function(){this.requestList()},requestList:function(){var e=this.tableSearchParams;console.log("参数："+JSON.stringify(e));for(var t=[],a=0;a<2;a++){var r=a+1;t.push({id:r,name:"名称"+r,dept:"dept"+r,operator:"操作人"+r,content:"内容"+r,createDate:o.a.Jh_timeStampToTime((new Date).getTime(),"{y}-{m}-{d} {h}:{i}:{s}"),updateDate:o.a.Jh_timeStampToTime((new Date).getTime()+864e5,"{y}-{m}-{d} {h}:{i}:{s}")})}this.tableForm.tableData=t},requestDict:function(){this.deptOptions=[{id:"f505a4b97b151d141d122a3d323c87ee",label:"部门一",value:"dept1",type:"这是描述1",sort:0},{id:"f505a4b97b151d141d122a3d323c87ee",label:"部门二",value:"dept2",type:"这是描述2",sort:1}]},headerCellStyle:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;return 0===t&&0===a?{textAlign:"center",background:"#eef1f6",display:"none"}:{textAlign:"center",background:"#f5f5f5"}},cellStyle:function(e){e.row,e.column,e.rowIndex,e.columnIndex;return{textAlign:"center"}},rowClassName:function(e){var t=e.row,a=e.rowIndex;t.xh=a+1},addStar:function(e){return console.log(e),"star"},addRedStar:function(e,t){var a=t.column;return[e("span",{style:"color: red"},"*"),e("span"," "+a.label)]},selectionLineChangeHandle:function(e){this.selectionList=e},onAdd:function(){var e={id:"",name:"",dept:"",operator:"",content:"",createDate:"",updateDate:""};this.tableForm.tableData.push(e)},onEdit:function(){0!==this.selectionList.length?this.selectionList.length>1&&this.$message.warning("只能选择一条记录！"):this.$message.warning("请选择记录")},onDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){for(var t=[],a=0;a<e.selectionList.length;a++)t.push(e.selectionList[a].xh);t.sort((function(e,t){return e-t})),console.log("新数组排序后："+t);for(var r=0;r<t.length;r++)e.tableForm.tableData.splice(t[r]-r-1,1);e.$message.success("删除成功!")})).catch((function(){})):this.$message.warning("请选择记录")},rowEdit:function(e){console.log(JSON.stringify(e))},rowDelete:function(e){var t=this;console.log(JSON.stringify(e)),this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.tableForm.tableData.splice(e.xh-1,1),t.$message.success("删除成功!")})).catch((function(){}))},onClickReset:function(){this.$refs["formRef"].resetFields()},onClickSave:function(){var e=this;this.$refs["formRef"].validate((function(t){t?console.log(JSON.stringify(e.tableForm)):(console.log("error submit!!"),e.$message.warning("有未输入项"))}))}}},i=s,c=(a("8915"),a("2877")),u=Object(c["a"])(i,r,n,!1,null,"d1915ff2",null);t["default"]=u.exports},7037:function(e,t,a){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),r(t)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},8915:function(e,t,a){"use strict";a("4789")},"99ab":function(e,t,a){var r=a("7037").default;function n(e,t){if(0===arguments.length)return null;var a,n=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===r(e)?console.log():(10===(""+e).length&&(e=1e3*parseInt(e)),a=new Date(e));var l={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),w:a.getDay()},o=n.replace(/{(y|m|d|h|i|s|w)+}/g,(function(e,t){var a=l[t];return"w"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a="0"+a),a||0)}));return o}function l(e){var t=e.replace(/-|\./g,"/");return t=t.replace(/年/g,"/"),t=t.replace(/月/g,"/"),t=t.replace(/日/g,""),4===t.length&&(t+="/01/01 00:00:00"),7===t.length&&(t+="/01 00:00:00"),10===t.length&&(t+=" 00:00:00"),16===t.length&&(t+=":00"),Date.parse(t)}function o(e,t){var a=["Y","M","D","h","m","s"],r=[],n=new Date(parseInt(e)),l=n.getFullYear(),o=n.getMonth()+1,s=n.getDate(),i=n.getHours(),c=n.getMinutes(),u=n.getSeconds();for(var p in r.push(l),r.push(o<10?"0"+o:o),r.push(s<10?"0"+s:s),r.push(i<10?"0"+i:i),r.push(c<10?"0"+c:c),r.push(u<10?"0"+u:u),r)t=t.replace(a[p],r[p]);return t}function s(e){var t=e.replace(/-/g,"");t=t.substring(0,8);var a=(new Date).getTime();return a=n(a,"{y}{m}{d}"),t===a}function i(){var e=Date.parse(new Date);return n(e,"{y}-{m}")}function c(e){var t=e.substring(0,4);t=parseInt(t),t-=1;var a=e.substring(4,5),r="";return r="年"===a?t+"年":t+a,r}function u(e){var t=e.substring(0,4);t=parseInt(t),t+=1;var a=e.substring(4,5),r="";return r="年"===a?t+"年":t+a,r}function p(e){var t=e.substring(0,4),a=e.substring(5,7);t=parseInt(t),a=parseInt(a),a-=1,0===a&&(t-=1,a=12),a<10&&(a="0"+a);var r=e.substring(4,5),n="";return n="年"===r?t+"年"+a+"月":t+r+a,n}function d(e){var t=e.substring(0,4),a=e.substring(5,7);t=parseInt(t),a=parseInt(a),a+=1,13===a&&(t+=1,a=1),a<10&&(a="0"+a);var r=e.substring(4,5),n="";return n="年"===r?t+"年"+a+"月":t+r+a,n}function m(e){var t=new Date(e).getFullYear(),a=new Date(e).getMonth()+1,r=new Date(e).getDate(),n=new Date,l=new Date(new Date(e).toLocaleDateString()),o=l.getTime()-n.getTime(),s=parseInt(o/1e3),i=Math.floor(s/86400),c=Math.floor((s-24*i*60*60)/3600),u=Math.floor((s-24*i*60*60-3600*c)/60),p=Math.floor(s-60*i*60*24-60*c*60-60*u);return"距离".concat(t,"年").concat(a,"月").concat(r,"日还有").concat(i,"天").concat(c,"小时").concat(u,"分").concat(p,"秒")}function f(e){return e?e.substr(0,10)+" 00:00:00":""}function b(e){return e?e.substr(0,10)+" 23:59:59":""}function h(e,t,a){return e=e.replace(/-/g,"/"),t=t.replace(/-/g,"/"),a=a.replace(/-/g,"/"),e=new Date(e),t=new Date(t),a=new Date(a),t<=e&&e<=a}function g(e,t){e=e.replace(/-/g,"/"),t=t.replace(/-/g,"/"),e=new Date(e),t=new Date(t);var a=new Date;return e<=a&&a<=t}function y(e,t){var a=new Date;return e=e.replace(/-/g,"/"),t=t.replace(/-/g,"/"),e=new Date(e),t=new Date(t),a<=e&&e<=t}function w(e,t){var a=l(e),r=l(t);return a>r}a("ac1f"),a("5319"),a("99af"),e.exports={Jh_timeStampToTime:n,Jh_convertTimeStamp:l,Jh_timestampToYMD:o,Jh_isToday:s,Jh_getYearMonth:i,Jh_getPrevYear:c,Jh_getNextYear:u,Jh_getPrevYearMonth:p,Jh_getNextYearMonth:d,Jh_compareTimes:w,Jh_isBetweenTimes:h,Jh_isBetweenTimesByCurrent:g,Jh_isBetweenTimesByCurrentAndEndTime:y,getEndTime:m,startOfDay:f,endOfDay:b}}}]);